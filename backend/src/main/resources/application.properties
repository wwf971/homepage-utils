# listen port
server.port=900

# MySQL Database Config
# NOTE: Change 'testdb' to your actual database name
# BOTH JPA and JDBC use this config
spring.datasource.url=jdbc:mysql://192.168.1.33:3306/data?createDatabaseIfNotExist=true
  # data: database name in mysql instance
spring.datasource.username=your_username
spring.datasource.password=your_password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA/Hibernate Config
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.auto-ddl=update

# Actuator - show all endpoints
management.endpoints.web.exposure.include=mappings,health
management.endpoint.mappings.enabled=true

# MongoDB Config
# Database where 'note' collection with file_access_point metadata is stored
# Connection pool and reconnection settings are configured in MongoService.java
# to handle network issues like "No route to host" (java.net.NoRouteToHostException)
#
# JVM Option to fix "No route to host" after several hours:
# -Djava.net.preferIPv4Stack=true
# This is configured in:
#   1. pom.xml (for mvn spring-boot:run)
#   2. .mvn/jvm.config (for Maven builds)
#   3. start-server.sh (for running jar directly)
spring.data.mongodb.uri=mongodb://localhost:27017/main
spring.data.mongodb.database=main
spring.data.mongodb.username=
spring.data.mongodb.password=

# Elasticsearch Config
# Using custom property names to avoid Spring Boot auto-configuration
app.elasticsearch.uris=http://localhost:9200
app.elasticsearch.username=elastic
app.elasticsearch.password=changeme

# Redis/Redisson Config
# Used for distributed locking to prevent race conditions
spring.data.redis.host=192.168.1.32
spring.data.redis.port=6379
spring.data.redis.timeout=3000

# RabbitMQ Config
# Used for asynchronous task queue processing
spring.rabbitmq.host=192.168.1.32
spring.rabbitmq.port=5672
spring.rabbitmq.username=
spring.rabbitmq.password=
spring.rabbitmq.virtual-host=/
spring.rabbitmq.connection-timeout=5000

# ID Service Config
# Database and table for ID generation and management
id.database-name=data
id.table-name=id

# Error Handling - Return JSON for all error responses
server.error.whitelabel.enabled=false
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never
server.error.include-exception=false